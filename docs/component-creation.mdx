# Component Creation Guide

## üìÅ File Structure

```
ComponentName/
‚îú‚îÄ‚îÄ ComponentName.component.tsx
‚îú‚îÄ‚îÄ ComponentName.types.ts
‚îú‚îÄ‚îÄ ComponentName.variants.ts
‚îú‚îÄ‚îÄ ComponentName.stories.tsx
‚îî‚îÄ‚îÄ index.ts
```

## üöÄ Templates

### Interactive Components (Button, Select, etc.)

**Variants:**

```typescript
import { cva, type VariantProps } from 'class-variance-authority';

export const componentVariants = cva(
	['inline-flex', 'items-center', 'justify-center', 'transition-all', 'duration-200'],
	{
		variants: {
			variant: {
				primary: ['bg-primary-600', 'hover:bg-primary-500', 'text-white'],
				outline: ['border-2', 'border-primary-600', 'text-primary-600', 'hover:bg-primary-50'],
			},
			size: {
				sm: ['px-3', 'py-1.5', 'text-sm'],
				md: ['px-4', 'py-2', 'text-base'],
			},
		},
		defaultVariants: { variant: 'primary', size: 'md' },
	}
);

export type ComponentVariantProps = VariantProps<typeof componentVariants>;
```

**Component:**

```typescript
import React from 'react';
import { mergeClassNames } from '@mirai-ui/utils';
import { componentVariants } from './Component.variants';
import type { ComponentProps } from './Component.types';

export const Component = React.forwardRef<HTMLButtonElement, ComponentProps>(
	({ variant, size, className, children, ...props }, ref) => {
		return (
			<button ref={ref} className={mergeClassNames(componentVariants({ variant, size }), className)} {...props}>
				{children}
			</button>
		);
	}
);

Component.displayName = 'Component';
```

### Form Components (Input, Textarea, etc.)

**Variants:**

```typescript
export const inputVariants = cva(
	['block', 'w-full', 'border', 'rounded', 'transition-all', 'duration-200', 'focus:outline-none'],
	{
		variants: {
			variant: {
				default: ['border-gray-300', 'focus:border-primary-500'],
				error: ['border-error-300', 'focus:border-error-500'],
			},
			size: {
				sm: ['px-3', 'py-1.5', 'text-sm'],
				md: ['px-4', 'py-2', 'text-base'],
			},
		},
		defaultVariants: { variant: 'default', size: 'md' },
	}
);
```

### Display Components (Card, Typography, etc.)

**Variants:**

```typescript
export const cardVariants = cva(['rounded', 'border'], {
	variants: {
		variant: {
			default: ['bg-white', 'border-gray-200'],
			elevated: ['bg-white', 'shadow-md', 'border-transparent'],
		},
		padding: {
			sm: ['p-4'],
			md: ['p-6'],
			lg: ['p-8'],
		},
	},
	defaultVariants: { variant: 'default', padding: 'md' },
});
```

## üìù Types Template

```typescript
import type { ComponentVariantProps } from './Component.variants';

// For interactive elements
export interface ComponentProps extends React.ButtonHTMLAttributes<HTMLButtonElement>, ComponentVariantProps {
	// Component-specific props
}

// For form elements
export interface InputProps extends React.InputHTMLAttributes<HTMLInputElement>, InputVariantProps {
	label?: string;
	helperText?: string;
	error?: string;
}

// For display elements
export interface CardProps extends React.HTMLAttributes<HTMLDivElement>, CardVariantProps {
	// Component-specific props
}
```

## üìñ Stories Template

```typescript
import type { Meta, StoryObj } from '@storybook/react-vite';
import { Component } from './Component.component';

const meta: Meta<typeof Component> = {
	title: 'Components/Component',
	component: Component,
	tags: ['autodocs'],
};

export default meta;
type Story = StoryObj<typeof Component>;

export const Default: Story = {
	args: { children: 'Component' },
};

export const AllVariants: Story = {
	render: () => (
		<div className="flex gap-4">
			<Component variant="primary">Primary</Component>
			<Component variant="outline">Outline</Component>
		</div>
	),
};
```

## üé® Design Tokens

**Colors:** `primary`, `secondary`, `success`, `warning`, `error`
**Sizes:** `sm`, `md`, `lg`, `xl`
**Spacing:** `px-3 py-1.5` (sm), `px-4 py-2` (md), `px-6 py-3` (lg)

## ‚úÖ Checklist

- [ ] Use `React.forwardRef` + `displayName`
- [ ] CVA for styling variants
- [ ] Extend appropriate HTML interfaces
- [ ] Use `mergeClassNames` utility
- [ ] Add accessibility attributes
- [ ] Create Storybook stories
- [ ] Export from `index.ts` and main `src/components/index.ts`
